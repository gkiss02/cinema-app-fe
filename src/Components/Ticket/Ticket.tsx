import styles from './Ticket.module.css';

type TicketProps = {
    title: string,
    date: Date,
    seats: string[],
};

const Ticket: React.FC<(TicketProps)> = (props) => {
    const formattedDate = props.date.toLocaleDateString('en-US', {
        day: 'numeric',
        month: 'short',
        year: 'numeric'
    }).toUpperCase();

    return (
        <div className={styles.container}>
            <svg width="421" height="161" viewBox="0 0 337 129" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_d_31_1166)">
                    <mask id="path-1-inside-1_31_1166" fill="white">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M327 111C327 115.418 323.418 119 319 119L248.781 119C248.783 118.911 248.784 118.823 248.784 118.734C248.784 112.7 243.549 107.809 237.091 107.809C230.633 107.809 225.398 112.7 225.398 118.734C225.398 118.823 225.399 118.911 225.401 119L10 119C5.58173 119 2 115.418 2 111L2 10C2 5.58173 5.58173 2 10 2L225.409 2.00001C225.402 2.16103 225.398 2.32295 225.398 2.4857C225.398 8.51897 230.633 13.4099 237.091 13.4099C243.549 13.4099 248.784 8.51897 248.784 2.4857C248.784 2.32295 248.781 2.16103 248.773 2.00001L319 2.00001C323.418 2.00002 327 5.58173 327 10L327 111ZM280.614 60.9242C280.614 54.8909 285.849 50 292.307 50C298.765 50 304 54.8909 304 60.9242C304 66.9575 298.765 71.8484 292.307 71.8484C285.849 71.8484 280.614 66.9575 280.614 60.9242Z"/>
                    </mask>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M327 111C327 115.418 323.418 119 319 119L248.781 119C248.783 118.911 248.784 118.823 248.784 118.734C248.784 112.7 243.549 107.809 237.091 107.809C230.633 107.809 225.398 112.7 225.398 118.734C225.398 118.823 225.399 118.911 225.401 119L10 119C5.58173 119 2 115.418 2 111L2 10C2 5.58173 5.58173 2 10 2L225.409 2.00001C225.402 2.16103 225.398 2.32295 225.398 2.4857C225.398 8.51897 230.633 13.4099 237.091 13.4099C243.549 13.4099 248.784 8.51897 248.784 2.4857C248.784 2.32295 248.781 2.16103 248.773 2.00001L319 2.00001C323.418 2.00002 327 5.58173 327 10L327 111ZM280.614 60.9242C280.614 54.8909 285.849 50 292.307 50C298.765 50 304 54.8909 304 60.9242C304 66.9575 298.765 71.8484 292.307 71.8484C285.849 71.8484 280.614 66.9575 280.614 60.9242Z" fill="#FAFAFA"/>
                    <path d="M248.781 119L248.781 120L247.755 120L247.781 118.974L248.781 119ZM225.401 119L226.401 118.974L226.427 120L225.401 120L225.401 119ZM225.409 2.00001L225.409 1.00001L226.457 1.00001L226.408 2.04677L225.409 2.00001ZM248.773 2.00001L247.774 2.04677L247.725 1.00001L248.773 1.00001L248.773 2.00001ZM319 2.00001L319 1.00001L319 2.00001ZM327 10L326 10L327 10ZM319 118C322.866 118 326 114.866 326 111L328 111C328 115.971 323.971 120 319 120L319 118ZM248.781 118L319 118L319 120L248.781 120L248.781 118ZM249.784 118.734C249.784 118.831 249.783 118.929 249.781 119.026L247.781 118.974C247.783 118.894 247.784 118.814 247.784 118.734L249.784 118.734ZM237.091 106.809C244.036 106.809 249.784 112.085 249.784 118.734L247.784 118.734C247.784 113.316 243.062 108.809 237.091 108.809L237.091 106.809ZM224.398 118.734C224.398 112.085 230.146 106.809 237.091 106.809L237.091 108.809C231.12 108.809 226.398 113.316 226.398 118.734L224.398 118.734ZM224.402 119.026C224.399 118.929 224.398 118.831 224.398 118.734L226.398 118.734C226.398 118.814 226.399 118.894 226.401 118.974L224.402 119.026ZM10 118L225.401 118L225.401 120L10 120L10 118ZM3 111C3 114.866 6.134 118 10 118L10 120C5.02945 120 1 115.971 1 111L3 111ZM3 10L3 111L1 111L1 10L3 10ZM10 3C6.13401 3 3 6.13401 3 10L1 10C1 5.02944 5.02945 1 10 1L10 3ZM225.409 3.00001L10 3L10 1L225.409 1.00001L225.409 3.00001ZM224.398 2.4857C224.398 2.30732 224.402 2.12981 224.41 1.95325L226.408 2.04677C226.401 2.19225 226.398 2.33858 226.398 2.4857L224.398 2.4857ZM237.091 14.4099C230.146 14.4099 224.398 9.13424 224.398 2.4857L226.398 2.4857C226.398 7.9037 231.12 12.4099 237.091 12.4099L237.091 14.4099ZM249.784 2.4857C249.784 9.13424 244.036 14.4099 237.091 14.4099L237.091 12.4099C243.062 12.4099 247.784 7.9037 247.784 2.4857L249.784 2.4857ZM249.772 1.95325C249.78 2.12981 249.784 2.30732 249.784 2.4857L247.784 2.4857C247.784 2.33858 247.781 2.19225 247.774 2.04677L249.772 1.95325ZM319 3.00001L248.773 3.00001L248.773 1.00001L319 1.00001L319 3.00001ZM326 10C326 6.13402 322.866 3.00002 319 3.00001L319 1.00001C323.971 1.00002 328 5.02945 328 10L326 10ZM326 111L326 10L328 10L328 111L326 111ZM292.307 51C286.336 51 281.614 55.5062 281.614 60.9242L279.614 60.9242C279.614 54.2757 285.362 49 292.307 49L292.307 51ZM303 60.9242C303 55.5062 298.278 51 292.307 51L292.307 49C299.252 49 305 54.2757 305 60.9242L303 60.9242ZM292.307 70.8484C298.278 70.8484 303 66.3422 303 60.9242L305 60.9242C305 67.5728 299.252 72.8484 292.307 72.8484L292.307 70.8484ZM281.614 60.9242C281.614 66.3422 286.336 70.8484 292.307 70.8484L292.307 72.8484C285.362 72.8484 279.614 67.5728 279.614 60.9242L281.614 60.9242Z" fill="#F5F5F5" mask="url(#path-1-inside-1_31_1166)"/>
                </g>
                <path d="M236 108L239 106.12L236 104.24L239 102.36L236 100.48L239 98.6001L236 96.7201L239 94.8401L236 92.9601L239 91.0801L236 89.2001L239 87.3201L236 85.4401L239 83.5601L236 81.6801L239 79.8001L236 77.9201L239 76.0401L236 74.1601L239 72.2801L236 70.4001L239 68.5201L236 66.6401L239 64.7601L236 62.8801L239 61.0001L236 59.1201L239 57.2401L236 55.3601L239 53.4801L236 51.6001L239 49.7201L236 47.8401L239 45.9601L236 44.0801L239 42.2001L236 40.3201L239 38.4401L236 36.5601L239 34.6801L236 32.8001L239 30.9201L236 29.0401L239 27.1601L236 25.2801L239 23.4001L236 21.5201L239 19.6401L236 17.7601L239 15.8801L236 14.0001" stroke="#CCCCCC" stroke-width="0.5"/>
                <defs>
                    <filter id="filter0_d_31_1166" x="0" y="0" width="337" height="129" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                        <feOffset dx="4" dy="4"/>
                        <feGaussianBlur stdDeviation="3"/>
                        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/>
                        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_31_1166"/>
                        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_31_1166" result="shape"/>
                    </filter>
                </defs>
            </svg>
            <h4 className={styles.text}>{props.title}</h4>
            <div className={styles['detail-container']}>
                <p>
                    {`${props.date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })} | ${formattedDate}`}
                </p>
                <p>
                    {props.seats.map((seat, index) => {
                        if (index === props.seats.length - 1) {
                            return seat;
                        }
                        return seat + ', ';
                    })}
                </p>
            </div>
        </div>
    )
}

export default Ticket;